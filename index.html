<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PlaylistFinder</title>
  <style>
    /* … (invariato fin qui) … */

    details {
      background: #1e1e1e;
      border-radius: 6px;
      margin: 0.2rem auto; /* Spazi ridotti */
      padding: 0.6rem 0.8rem;
      max-width: 500px;
      text-align: left;
    }

    .slider-wrapper { margin-top: 0.6rem; }
    .range-labels {
      display: flex; justify-content: space-between;
      font-size: 0.9rem; color: #1db954;
      margin-bottom: 0.2rem;
    }
    .slider-container {
      position: relative; height: 40px;
    }
    .range-double {
      position: absolute; width: 100%;
      height: 6px; background: #444;
      border-radius: 3px;
      top: 50%; transform: translateY(-50%);
    }
    input[type="range"] {
      -webkit-appearance: none;
      width: 100%; height: 6px;
      background: transparent; position: absolute;
      top: 50%; transform: translateY(-50%);
    }
    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      height: 18px; width: 18px;
      border-radius: 50%;
      background: #1db954;
      cursor: pointer; border: none;
      margin-top: -6px; z-index: 2;
    }
    input[type="range"]::-moz-range-thumb {
      height: 18px; width: 18px;
      border-radius: 50%;
      background: #1db954;
      cursor: pointer; border: none;
    }
  </style>
</head>
<body>
  <!-- (parte login, link, modalità, nome playlist come prima) -->

  <details><summary>Filtri Avanzati</summary>

    <details><summary>Escludi parole</summary>
      <input type="text" id="excludeKeywords" placeholder="remix, live..." />
    </details>

    <details><summary>Includi parole</summary>
      <input type="text" id="includeKeywords" placeholder="acoustic, piano..." />
    </details>

    <details><summary>Generi</summary>
      <div class="checkboxes" id="genreList"> … </div>
      <input type="text" id="customGenres" placeholder="Altri generi..." />
    </details>

    <details><summary>Durata (sec)</summary>
      <div class="slider-wrapper">
        <div class="range-labels">
          <span id="durationMinLabel">0</span>
          <span id="durationMaxLabel">3600</span>
        </div>
        <div class="slider-container">
          <div class="range-double"></div>
          <input type="range" id="minDuration" min="0" max="3600" value="0" oninput="updateRangeLabels()" />
          <input type="range" id="maxDuration" min="0" max="3600" value="3600" oninput="updateRangeLabels()" />
        </div>
      </div>
    </details>

    <details><summary>Popolarità (0–100)</summary>
      <div class="slider-wrapper">
        <div class="range-labels">
          <span id="popularityMinLabel">0</span>
          <span id="popularityMaxLabel">100</span>
        </div>
        <div class="slider-container">
          <div class="range-double"></div>
          <input type="range" id="minPopularity" min="0" max="100" value="0" oninput="updateRangeLabels()" />
          <input type="range" id="maxPopularity" min="0" max="100" value="100" oninput="updateRangeLabels()" />
        </div>
      </div>
    </details>
  </details>

  <!-- (bottoni Avvia, Esporta, area manuale, ecc.) -->

<script>
  function updateRangeLabels() {
    const minD = document.getElementById('minDuration');
    const maxD = document.getElementById('maxDuration');
    const minP = document.getElementById('minPopularity');
    const maxP = document.getElementById('maxPopularity');

    if (+minD.value > +maxD.value) minD.value = maxD.value;
    if (+maxD.value < +minD.value) maxD.value = minD.value;

    if (+minP.value > +maxP.value) minP.value = maxP.value;
    if (+maxP.value < +minP.value) maxP.value = minP.value;

    document.getElementById('durationMinLabel').textContent = minD.value;
    document.getElementById('durationMaxLabel').textContent = maxD.value;
    document.getElementById('popularityMinLabel').textContent = minP.value;
    document.getElementById('popularityMaxLabel').textContent = maxP.value;
  }
    </script>
