<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PlaylistFinder</title>
  <link rel="stylesheet" href="styles.css"><!-- AGGIUNTA: separa stile -->
  <script src="languages.js"></script><!-- AGGIUNTA: gestione lingue -->
  <script src="export.js"></script><!-- AGGIUNTA: esportazione multipla -->
  <script src="genres.js"></script><!-- AGGIUNTA: generi estesi -->
  <script src="filters.js"></script><!-- AGGIUNTA: filtri universali -->
  <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
</head>
<body>
  <!-- Modalit√† su una sola linea AGGIUNTA -->
  <div class="inline" style="margin:1rem auto; justify-content:center;">
    <label><input type="radio" name="mode" value="auto" checked> Auto</label>
    <label><input type="radio" name="mode" value="manual"> Manuale</label>
    <label><input type="radio" name="mode" value="original"> Originale</label>
    <label><input type="radio" name="mode" value="filtered"> Filtrato</label>
  </div>

  <!-- Generi estesi AGGIUNTA -->
  <div class="inline">
    <label>Generi:</label>
    <div class="genre-grid" id="genreList"></div>
  </div>
  <div class="inline">
    <label>Altro: <input type="text" id="customGenres" placeholder="funky, soul..." /></label>
  </div>

  <!-- Esportazione multipla AGGIUNTA -->
  <div style="margin-top:3rem;">
    <button onclick="exportCSV()">CSV</button>
    <button onclick="exportJSON()">JSON</button>
    <button onclick="exportAppleMusic()">Apple Music</button>
    <button onclick="exportYouTubeMusic()">YouTube Music</button>
  </div>

  <!-- Lingue universali AGGIUNTA -->
  <div style="margin-top:2rem;">
    <label for="langSelect">üåê Lingua:</label>
    <select id="langSelect" onchange="setLang(this.value)">
      <!-- Popolato dinamicamente da languages.js -->
    </select>
  </div>
  <script>
    // AGGIUNTA: genera l'elenco di generi estesi
    document.addEventListener("DOMContentLoaded", () => {
      const genreListDiv = document.getElementById('genreList');
      genreListDiv.innerHTML = genres.map(g => 
        `<label><input type="checkbox" value="${g.id}" /> ${g.name}</label>`
      ).join('');
      // AGGIUNTA: lingue universali
      const langSel = document.getElementById('langSelect');
      langSel.innerHTML = languages.map(l => 
        `<option value="${l.code}">${l.label}</option>`
      ).join('');
    });
  </script>
</body>
</html>
