<!-- ===========================
     FILE: index.html
     Struttura base HTML per PlaylistFinder
     =========================== -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <!-- Garantisce il corretto scaling su dispositivi mobili -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PlaylistFinder</title>

    <!-- MOD: CSS separato per ordine e leggibilitÃ  -->
    <link rel="stylesheet" href="style.css">

    <!-- Libreria per il drag&drop avanzato -->
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
</head>

<body>
    <!-- Pulsante per aprire le impostazioni -->
    <button id="settingsBtn" title="Impostazioni">âš™ï¸</button>

    <!-- Sidebar impostazioni -->
    <div id="sidebarSettings">
        <!-- Pulsante di chiusura -->
        <button class="close-btn">âœ–ï¸</button>
        <h2>Impostazioni</h2>

        <!-- Selezione lingua -->
        <div>
            <label for="langSelect"><span style="margin-right:6px;">ğŸŒ</span>Lingua:</label>
            <select id="langSelect">
                <option value="it">ğŸ‡®ğŸ‡¹ Italiano</option>
                <option value="en">ğŸ‡¬ğŸ‡§ English</option>
                <option value="es">ğŸ‡ªğŸ‡¸ EspaÃ±ol</option>
                <option value="fr">ğŸ‡«ğŸ‡· FranÃ§ais</option>
                <option value="de">ğŸ‡©ğŸ‡ª Deutsch</option>
                <option value="pt">ğŸ‡µğŸ‡¹ PortuguÃªs</option>
                <option value="ru">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
            </select>
        </div>

        <!-- Cambio tema -->
        <div>
            <button id="themeToggle">ğŸŒ“ Cambia tema</button>
        </div>

        <hr>

        <!-- Leaderboard -->
        <div>
            <button id="leaderboardBtn">Leaderboard</button>
        </div>

        <!-- Carica playlist locale -->
        <div>
            <button id="loadLocalBtn">ğŸ“‚ Carica playlist locale</button>
        </div>

        <!-- Citazione motivazionale -->
        <div>
            <label>Citazione motivazionale:</label>
            <div id="randomQuote"></div>
        </div>
    </div>

    <!-- Titolo principale -->
    <h1>ğŸ§ PlaylistFinder</h1>

    <!-- Login Spotify -->
    <button id="loginBtn">ğŸ” Login with Spotify</button>
    <span id="loginStatus" class="status-icon">âŒ Non autenticato</span>

    <!-- Nome playlist -->
    <div class="playlist-name-container">
        <label for="playlistName" id="playlistLabel">Nome playlist:</label>
        <input type="text" id="playlistName" placeholder="Inserisci nome playlist...">
    </div>

    <!-- Input per link playlist multipli -->
    <div class="inline" id="playlistInputs">
        <input type="text" class="playlist-link" placeholder="Spotify playlist link" />
        <button type="button" class="add-link">â•</button>
    </div>

    <!-- ModalitÃ  -->
    <div class="mode-selector">
        <label><input type="radio" name="mode" value="auto" checked> Auto</label>
        <label><input type="radio" name="mode" value="manual"> Manual</label>
        <label><input type="radio" name="mode" value="original"> Original</label>
        <label><input type="radio" name="mode" value="filtered"> Filtered</label>
    </div>

    <!-- Filtri avanzati -->
    <details>
        <summary>ğŸšï¸ Advanced filters</summary>
        <!-- Inclusione/esclusione parole -->
        <div class="inline">
            <label>Exclude words: <input type="text" id="excludeKeywords" placeholder="remix, live..." /></label>
            <label>Include words: <input type="text" id="includeKeywords" placeholder="acoustic, piano..." /></label>
        </div>

        <!-- Slider durata -->
        <div class="slider-block">
            <label>Duration (seconds): <span id="durationLabel"></span></label>
            <div class="range-slider" id="durationSlider">
                <div class="range-slider-track"></div>
                <div class="range-slider-progress" id="durationProgress"></div>
                <input type="range" id="durationMin" min="0" max="3600" value="0">
                <input type="range" id="durationMax" min="0" max="3600" value="3600">
            </div>
        </div>

        <!-- Slider popolaritÃ  -->
        <div class="slider-block">
            <label>Popularity: <span id="popularityLabel"></span></label>
            <div class="range-slider" id="popularitySlider">
                <div class="range-slider-track"></div>
                <div class="range-slider-progress" id="popularityProgress"></div>
                <input type="range" id="popMin" min="0" max="100" value="0">
                <input type="range" id="popMax" min="0" max="100" value="100">
            </div>
        </div>

        <!-- Generi -->
        <div class="inline">
            <label>Genres:</label>
            <div class="genre-grid" id="genreList"></div>
        </div>

        <!-- Generi custom -->
        <div class="inline">
            <label>Other: <input type="text" id="customGenres" placeholder="funky, soul..." /></label>
        </div>

        <!-- Preset -->
        <div class="inline">
            <button id="savePresetBtn">ğŸ’¾ Salva preset</button>
            <button id="loadPresetBtn">ğŸ“‚ Carica preset</button>
        </div>

        <!-- Slider energia -->
        <div class="slider-block highlight">
            <label>Mood/Energia: <span id="energyLabel"></span></label>
            <div class="range-slider" id="energySlider">
                <div class="range-slider-track"></div>
                <div class="range-slider-progress" id="energyProgress"></div>
                <input type="range" id="energyMin" min="0" max="1" step="0.01" value="0">
                <input type="range" id="energyMax" min="0" max="1" step="0.01" value="1">
            </div>
        </div>
    </details>

    <!-- Azioni principali -->
    <div class="main-actions">
        <button id="startProcessingBtn">ğŸ¯ Find original tracks</button>
        <button id="createManualPlaylist" style="display:none">ğŸ“¥ Create from selection</button>
        <button id="exportCSVBtn">ğŸ“„ Export CSV</button>
        <button id="exportJSONBtn">ğŸ§¾ Export JSON</button>
        <button id="exportAppleMusicBtn">ğŸ Apple Music</button>
        <button id="exportYouTubeMusicBtn">â–¶ï¸ YouTube Music</button>
    </div>

    <!-- Barra progresso -->
    <div id="progressBarContainer">
        <div id="progressBar"></div>
        <span id="progressLabel"></span>
    </div>

    <!-- Area selezione manuale -->
    <div id="trackSelection"></div>

    <!-- Condivisione -->
    <div class="share-buttons">
        <button id="shareStatsBtn">ğŸ”— Condividi / Statistiche playlist</button>
        <button id="shareTelegramBtn">Telegram</button>
        <button id="shareWhatsappBtn">WhatsApp</button>
    </div>

    <!-- Citazione divertente -->
    <div class="fun-quote" id="funQuote"></div>

    <!-- MOD: JS esterno -->
    <script src="ui.js"></script>
</body>
</html>
